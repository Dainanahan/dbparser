<!DOCTYPE html>
<!-- Generated by pkgdown: do not edit by hand --><html lang="en">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Saving data into Database â€¢ dbparser</title>
<!-- jquery --><script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js" integrity="sha256-FgpCb/KJQlLNfOu91ta32o/NMZxltwRo8QtmkMRdAu8=" crossorigin="anonymous"></script><!-- Bootstrap --><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.3.7/css/bootstrap.min.css" integrity="sha256-916EbMg70RQy9LHiGkXzG8hSg9EdNy97GazNG/aiY1w=" crossorigin="anonymous">
<script src="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.3.7/js/bootstrap.min.js" integrity="sha256-U5ZEeKfGNOja007MMD3YBI0A3OSZOQbeG6z2f2Y0hu8=" crossorigin="anonymous"></script><!-- Font Awesome icons --><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.7.1/css/all.min.css" integrity="sha256-nAmazAk6vS34Xqo0BSrTb+abbtFlgsFK7NKSi6o7Y78=" crossorigin="anonymous">
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.7.1/css/v4-shims.min.css" integrity="sha256-6qHlizsOWFskGlwVOKuns+D1nB6ssZrHQrNj1wGplHc=" crossorigin="anonymous">
<!-- clipboard.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/clipboard.js/2.0.4/clipboard.min.js" integrity="sha256-FiZwavyI2V6+EXO1U+xzLG3IKldpiTFf3153ea9zikQ=" crossorigin="anonymous"></script><!-- headroom.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.9.4/headroom.min.js" integrity="sha256-DJFC1kqIhelURkuza0AvYal5RxMtpzLjFhsnVIeuk+U=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.9.4/jQuery.headroom.min.js" integrity="sha256-ZX/yNShbjqsohH1k95liqY9Gd8uOiE1S4vZc+9KQ1K4=" crossorigin="anonymous"></script><!-- pkgdown --><link href="../pkgdown.css" rel="stylesheet">
<script src="../pkgdown.js"></script><meta property="og:title" content="Saving data into Database">
<meta property="og:description" content="">
<meta name="twitter:card" content="summary">
<!-- mathjax --><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js" integrity="sha256-nvJJv9wWKEm88qvoQl9ekL2J+k/RWIsaSScxxlsrv8k=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/config/TeX-AMS-MML_HTMLorMML.js" integrity="sha256-84DKXVJXs0/F8OTMzX4UR909+jtl4G7SPypPavF+GfA=" crossorigin="anonymous"></script><!--[if lt IE 9]>
<script src="https://oss.maxcdn.com/html5shiv/3.7.3/html5shiv.min.js"></script>
<script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
<![endif]-->
</head>
<body>
    <div class="container template-article">
      <header><div class="navbar navbar-default navbar-fixed-top" role="navigation">
  <div class="container">
    <div class="navbar-header">
      <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#navbar" aria-expanded="false">
        <span class="sr-only">Toggle navigation</span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
      </button>
      <span class="navbar-brand">
        <a class="navbar-link" href="../index.html">dbparser</a>
        <span class="version label label-default" data-toggle="tooltip" data-placement="bottom" title="Released version">1.0.5.9000</span>
      </span>
    </div>

    <div id="navbar" class="navbar-collapse collapse">
      <ul class="nav navbar-nav">
<li>
  <a href="../index.html">
    <span class="fas fa fas fa-home fa-lg"></span>
     
  </a>
</li>
<li>
  <a href="../articles/dbparser.html">Get started</a>
</li>
<li>
  <a href="../reference/index.html">Reference</a>
</li>
<li class="dropdown">
  <a href="#" class="dropdown-toggle" data-toggle="dropdown" role="button" aria-expanded="false">
    Articles
     
    <span class="caret"></span>
  </a>
  <ul class="dropdown-menu" role="menu">
<li>
      <a href="../articles/Database_Saving.html">Saving data into Database</a>
    </li>
  </ul>
</li>
<li>
  <a href="../news/index.html">Changelog</a>
</li>
      </ul>
<ul class="nav navbar-nav navbar-right"></ul>
</div>
<!--/.nav-collapse -->
  </div>
<!--/.container -->
</div>
<!--/.navbar -->

      

      </header><div class="row">
  <div class="col-md-9 contents">
    <div class="page-header toc-ignore">
      <h1>Saving data into Database</h1>
                        <h4 class="author">Mohammed Ali</h4>
            
            <h4 class="date">2020-01-21</h4>
      
      
      <div class="hidden name"><code>Database_Saving.Rmd</code></div>

    </div>

    
    
<div id="introduction" class="section level2">
<h2 class="hasAnchor">
<a href="#introduction" class="anchor"></a>Introduction</h2>
<p>This tutorial aim to explain <code>dbparser</code> database functionalities to save the parsed drug information to a desired database for the user benefit.</p>
<p>To do that successfully user has two main options:</p>
<ul>
<li>Save the parsed drug tibble(s) into local <em>DBI</em> connection of his own like any other regular <code>R</code> tibble.</li>
<li>Save the parsed drug tibble(s) into a database using <code>dbparser</code> database functionalities.</li>
</ul>
<p>The first option is byond the scope of this tutorial and can be done using normal <em>DBI</em> tutorial. The second option is what interests us here and it is including three options:</p>
<ul>
<li>SQLLite</li>
<li>RDBMS</li>
<li>Maria Knowledge Base</li>
</ul>
<p>The remaining sections of this tutorial will clarify each option in more details.</p>
<p><em>Please note that this tutorial does not explain how to install these databases as it is out of the scope.</em></p>
<div id="sqllite" class="section level3">
<h3 class="hasAnchor">
<a href="#sqllite" class="anchor"></a>SQLLite</h3>
<p>SQLLite is an inmemory database you can use locally easily. To save drugs information using this database just do the following call</p>
<div class="sourceCode" id="cb1"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb1-1" data-line-number="1"><span class="kw">open_db</span>(<span class="dt">driver =</span> <span class="st">"SQLLite"</span>, output_database)</a></code></pre></div>
<p>where is <code>output_database</code> is the desired file location to save the generated database. If user did not provide this option the default is to save generated tibbles in memory.</p>
</div>
<div id="dbi-supported-databases" class="section level3">
<h3 class="hasAnchor">
<a href="#dbi-supported-databases" class="anchor"></a>DBI Supported Databases</h3>
<p><code>dbparser</code> package uses two database packages <code>DBI</code> and <code>RMariaDB</code>.</p>
<p><code>DBI</code> separates the connectivity to the DBMS into a <em>front-end</em> and a <em>back-end</em>. Applications use only the exposed front-end API. The back-end facilities that communicate with specific DBMSs (SQLite, MySQL, PostgreSQL, MonetDB, etc.) are provided by drivers (other packages) that get invoked automatically through S4 methods. For more information about DBI package please refer to <a href="https://db.rstudio.com/dbi/">this link</a></p>
<p><code>RMariaDB</code> is much more simple and used to connect MariaDB.</p>
<p>In both cases user needs to do the following:</p>
<ul>
<li>provide a working database connection information to either <code>open_db</code> function that uses DBI package or <code>open_mdb</code> function that uses MariaDB package.</li>
<li>enable <code>save_table</code> option in parser functions.</li>
</ul>
<p>The following are two examples of how to make the connection with <em>SQL Server</em> and <em>Maria DB</em></p>
<div id="sql-server" class="section level4">
<h4 class="hasAnchor">
<a href="#sql-server" class="anchor"></a>SQL Server</h4>
<ul>
<li>Make sure you have a working connection to <em>SQL Server</em> instance <img src="sql_connection.png">
</li>
<li>Create new empty database to store drug information <img src="new_database.png">
</li>
<li>Provide this information to <code>open_db</code> function</li>
</ul>
<div class="sourceCode" id="cb2"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb2-1" data-line-number="1"><span class="kw">open_db</span>(</a>
<a class="sourceLine" id="cb2-2" data-line-number="2">  <span class="dt">driver =</span> <span class="st">"SQL Server"</span>,</a>
<a class="sourceLine" id="cb2-3" data-line-number="3">  <span class="dt">server =</span> <span class="st">"SQL2016"</span>, <span class="dt">output_database =</span> <span class="st">"drugbank"</span></a>
<a class="sourceLine" id="cb2-4" data-line-number="4">)</a></code></pre></div>
<ul>
<li>Enable <code>save_table</code> option in parser functions.</li>
<li>Call <code>close_db</code> method after finishing from parsing to close your database connection properly.</li>
</ul>
</div>
<div id="maria-knowledge-base" class="section level4">
<h4 class="hasAnchor">
<a href="#maria-knowledge-base" class="anchor"></a>Maria Knowledge Base</h4>
<ul>
<li>Install MariaDB</li>
<li>Install MySQL client for MariaDB</li>
<li>Do the same steps as SQL Server above.</li>
</ul>
</div>
</div>
</div>
  </div>

  <div class="col-md-3 hidden-xs hidden-sm" id="sidebar">

        <div id="tocnav">
      <h2 class="hasAnchor">
<a href="#tocnav" class="anchor"></a>Contents</h2>
      <ul class="nav nav-pills nav-stacked">
<li><a href="#introduction">Introduction</a></li>
      </ul>
</div>
      </div>

</div>



      <footer><div class="copyright">
  <p>Developed by <a href="http://mohammedfcis.github.io">Mohammed Ali</a>, <a href="https://www.linkedin.com/in/aliezzat1985/">Ali Ezzat</a>.</p>
</div>

<div class="pkgdown">
  <p>Site built with <a href="https://pkgdown.r-lib.org/">pkgdown</a> 1.4.1.</p>
</div>

      </footer>
</div>

  


  </body>
</html>
